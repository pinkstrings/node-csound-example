<!DOCTYPE html>
<html>
  <head>
    <title>{{title}}</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script>

    	$(document).ready(function() {

			  $('a.click-me').on('click', function(){

			  	console.log('Clicked a.click-me -- called from layout.hbs');

			  	// which <a> was clicked defines saveToFile
			  	var dataToPassToServer = {
				  	csd: 'foobar.csd',
				  	saveToFile: parseInt( $(this).attr('save-file') )
				  };

				  console.log('Starting request with data: ', dataToPassToServer);

	  			$.ajax({
					  dataType: "json", type: "POST",
					  url: '/csound',
					  data: dataToPassToServer,
					  success: function(res){ // all good in the hood

					  	console.log(res);

					  },
					  error: function(res){ // something went wrong with XHR


					  	console.error(res);

					  }
					});

			  })

			});

    </script>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
    {{{body}}}
  </body>
</html>
